import vue from "@vitejs/plugin-vue";
function getRenderer() {
  return {
    name: "@astrojs/vue",
    clientEntrypoint: "@astrojs/vue/client.js",
    serverEntrypoint: "@astrojs/vue/server.js"
  };
}
function getViteConfiguration(options) {
  return {
    optimizeDeps: {
      include: ["@astrojs/vue/client.js", "vue"],
      exclude: ["@astrojs/vue/server.js"]
    },
    plugins: [vue(options)],
    ssr: {
      external: ["@vue/server-renderer"]
    }
  };
}
function src_default(options) {
  return {
    name: "@astrojs/vue",
    hooks: {
      "astro:config:setup": ({ addRenderer, updateConfig }) => {
        addRenderer(getRenderer());
        updateConfig({ vite: getViteConfiguration(options) });
      }
    }
  };
}
export {
  src_default as default
};
